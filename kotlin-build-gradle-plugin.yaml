# @file:Suppress("UNUSED_PARAMETER", "UNUSED_VARIABLE")
# repo/scripts/kotlin-bootstrap.settings.gradle.kts
generic:
    recipe: remove
    assignment:
      - kotlinOptions.jvmTarget = "1.8"
      - allWarningsAsErrors = true
    remove-methods:
      - develocity
      - buildScan
      - buildCache
      - exclusiveContent
      - apiBuild
      - apiValidation
      - knit
      - kover
      - animalsniffer
      - externalDocumentationLink
    remove-plugins:
      - kotlinx-knit
      - com.gradle.develocity
      - org.gradle.toolchains.foojay-resolver-convention
      - org.jetbrains.kotlinx.binary-compatibility-validator
      - libs.plugins.kotlinx.binaryCompatibilityValidator
      - libs.plugins.gradle.pluginPublish
      - org.jetbrains.kotlinx.benchmark
      - org.jetbrains.dokka
      - org.jetbrains.kotlinx.kover
      - ru.vyarus.animalsniffer
      - me.champeau.jmh
      - org.openjfx.javafxplugin
      - develocity
      - jvm-toolchain-provisioning
    remove-classpath:
      - org.jetbrains.dokka:dokka-gradle-plugin:version("dokka")
      - org.jetbrains.dokka:dokka-core:version("dokka")
      - org.jetbrains.kotlinx:binary-compatibility-validator:version("binary_compatibility_validator")
      - ru.vyarus:gradle-animalsniffer-plugin:version("animalsniffer")
      - org.jetbrains.kotlinx:kotlinx-knit:version("knit")
      - org.jetbrains.kotlinx:kover-gradle-plugin:version("kover")
      - org.jetbrains.kotlinx:kotlinx-benchmark-plugin:version("benchmarks")
      - libs.gradle.toolchainsFoojayResolver.gradlePlugin
    method-with-arg:
      - include(":develocity")
      - resolutionStrategy.eachDependency(->{if(requested.group=="com.google.code.gson"&&requested.name=="gson"){useVersion(gsonVersion);because("Forceusingsamegsonversionbecauseofhttps://github.com/google/gson/pull/1991");}})
    remove-files:
      - repo/gradle-settings-conventions/jvm-toolchain-provisioning/src/main/kotlin/jvm-toolchain-provisioning.settings.gradle.kts
      - repo/gradle-settings-conventions/jvm-toolchain-provisioning/build.gradle.kts

kotlin-strip-raw:
    recipe: remove
    files:
      - settings.gradle
      - repo/gradle-build-conventions/settings.gradle.kts
      - repo/gradle-build-conventions/buildsrc-compat/build.gradle.kts
    raw-remove-strings:
      - id "develocity"
      - id "jvm-toolchain-provisioning"
      - id("jvm-toolchain-provisioning")
      - val gsonVersion = libs.versions.gson.get()
